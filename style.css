:root{
  --bg:#0f1014; --panel:rgba(0,0,0,.55); --panel-border:rgba(255,255,255,.08);
  --text:#f3f4f7; --muted:#c8cbd4; --accent:#7A2CF0; --accent-2:#00C7B7;
}
*{box-sizing:border-box} html,body{height:100%;margin:0}
body{background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Inter,Roboto,Arial}

#app{height:100%;position:relative}
#bg{position:fixed;inset:0;z-index:0;background:#101119;background-size:cover;background-position:center}
.viewer-wrap{position:relative;z-index:1;height:100%;padding:80px 16px 86px;display:grid;place-items:center}

#book{
  width:min(96vw,1400px);
  height:calc(100vh - 180px);
  background:transparent;
  touch-action:manipulation;
  pointer-events:auto;
  position:relative;
}

/* toolbar */
.toolbar{
  position:fixed;z-index:5;top:12px;left:50%;transform:translateX(-50%);
  display:flex;gap:10px;align-items:center;padding:8px 10px;border-radius:12px;
  background:var(--panel);backdrop-filter:blur(8px);border:1px solid var(--panel-border)
}
.toolbar .btn, .toolbar a.btn{
  appearance:none;border:1px solid var(--panel-border);background:#1b1e27;color:var(--text);
  text-decoration:none;padding:8px 10px;border-radius:10px;cursor:pointer
}
.toolbar .split{width:1px;height:28px;background:var(--panel-border)}

/* bottom chrome */
.chrome{
  position:fixed;z-index:5;left:50%;bottom:12px;transform:translateX(-50%);
  width:min(1000px,92vw);display:grid;grid-template-columns:1fr auto auto auto;align-items:center;gap:10px;
  padding:10px 12px;border-radius:12px;background:var(--panel);border:1px solid var(--panel-border);backdrop-filter:blur(8px)
}
.scrub{display:flex;align-items:center;gap:10px}
.scrub input[type=range]{-webkit-appearance:none;width:100%;height:6px;border-radius:999px;background:linear-gradient(90deg,var(--accent),var(--accent-2))}
.scrub input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;border-radius:50%;background:#fff;border:2px solid #0d0f16}
.counter{color:var(--muted)}
.zoom{display:flex;gap:8px}
#renderProg{color:var(--muted);font-size:12px}

/* thumbs */
.thumbs{position:fixed;z-index:4;right:12px;top:72px;bottom:92px;width:min(220px,42vw);overflow:auto;padding:10px;background:var(--panel);border:1px solid var(--panel-border);border-radius:12px}
.thumb{width:100%;aspect-ratio:3/4;margin:0 0 10px;border-radius:8px;overflow:hidden;border:1px solid var(--panel-border);cursor:pointer;position:relative}
.thumb img{width:100%;height:100%;object-fit:cover}
.thumb.active::after{content:"";position:absolute;inset:0;border:2px solid var(--accent);border-radius:8px;pointer-events:none}
.hide{display:none}

/* overlays */
#loading{position:fixed;inset:0;z-index:6;display:grid;place-items:center;background:rgba(0,0,0,.35);color:#fff}
#watermark{position:fixed;inset:0;z-index:2;pointer-events:none;display:grid;place-items:center;color:rgba(255,255,255,.25);text-transform:uppercase;font-weight:700}

/* page edges */
#book .page{position:relative;background:#fafafc}
#book .page::before,#book .page::after{content:"";position:absolute;top:0;bottom:0;width:16px;pointer-events:none}
#book .page::before{left:0;background:linear-gradient(90deg,rgba(0,0,0,.18),transparent)}
#book .page::after{right:0;background:linear-gradient(270deg,rgba(0,0,0,.18),transparent)}

@media (max-width:1024px){
  .viewer-wrap{padding:64px 8px 96px}
  #book{width:96vw;max-height:calc(100vh - 160px)}
  .thumbs{display:none}
  .chrome{grid-template-columns:1fr auto auto}
}
